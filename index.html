<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>2022 신냉전</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
html,body{margin:0;height:100%;overflow:hidden;font-family:sans-serif}
#map{width:100%;height:100%;display:none}

/* ===== START SCREEN ===== */
#startScreen{
 position:fixed; inset:0;
 background:#020617;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 color:white;
 z-index:5000
}
#startScreen h1{font-size:42px;margin-bottom:30px}
#startBtn{
 font-size:20px;
 padding:14px 32px;
 border:none;
 border-radius:8px;
 cursor:pointer;
 background:#16a34a;
 color:white
}

/* ===== COUNTRY POPUP ===== */
.countryName{
 font-weight:bold;
 font-size:14px
}
</style>
</head>

<body>

<!-- START SCREEN -->
<div id="startScreen">
  <h1>2022 신냉전</h1>
  <button id="startBtn">시작</button>
</div>

<!-- MAP -->
<div id="map"></div>

<script>
/* ================= START BUTTON ================= */
document.getElementById("startBtn").onclick=()=>{
 document.getElementById("startScreen").style.display="none";
 document.getElementById("map").style.display="block";
 initMap();
};

/* ================= MAP INIT ================= */
function initMap(){

const map=L.map("map",{
 center:[20,0],
 zoom:2,
 minZoom:2,
 maxZoom:7,
 worldCopyJump:true,
 maxBounds:[
  [-90,-540],
  [90,540]
 ],
 maxBoundsViscosity:1.0
});

/* ===== Ocean (Blue background) ===== */
L.rectangle(
 [[-90,-540],[90,540]],
 {fillColor:"#1e3a8a",fillOpacity:1,weight:0}
).addTo(map);

/* ===== LAND STYLE ===== */
const landStyle={
 fillColor:"#15803d",
 fillOpacity:1,
 color:"#064e3b",
 weight:0.5
};

/* ===== COUNTRY BORDERS (2022 기준 Admin 0) ===== */
fetch("https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_50m_admin_0_countries.geojson")
.then(r=>r.json())
.then(data=>{
 L.geoJSON(data,{
  style:landStyle,
  onEachFeature:(f,l)=>{
   const name=f.properties.ADMIN;
   l.on("click",()=>{
    l.bindPopup(
     `<div class="countryName">${name}</div><div>국가 선택</div>`
    ).openPopup();
   });
  }
 }).addTo(map);
});

/* ===== SCALE HUD ===== */
L.control.scale({imperial:false}).addTo(map);

}
</script>

</body>
</html>
